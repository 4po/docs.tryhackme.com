<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">OpenVPN Troubleshooting | TryHackMe Documentation</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="TryHackMe Documentation"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="## Using the THM troubleshooting Script:"><meta data-react-helmet="true" property="og:description" content="## Using the THM troubleshooting Script:"><meta data-react-helmet="true" property="og:url" content="https://docs.tryhackme.com/docs/openvpn/troubleshooting/openvpn-troubleshooting">

<link data-react-helmet="true" rel="shortcut icon" href="/img/thm-favicon.png">


<link rel="stylesheet" href="/styles.3816148f.css">


<link rel="preload" href="/styles.ff960ac8.js" as="script">

<link rel="preload" href="/runtime~main.e8d1b918.js" as="script">

<link rel="preload" href="/main.537dcb66.js" as="script">

<link rel="preload" href="/1.0fffe3ba.js" as="script">

<link rel="preload" href="/2.cbb3c2d0.js" as="script">

<link rel="preload" href="/36.da44f8d1.js" as="script">

<link rel="preload" href="/20ac7829.2897ad6a.js" as="script">

<link rel="preload" href="/17896441.297f9b71.js" as="script">

<link rel="preload" href="/a54bd0b8.ba28b2c6.js" as="script">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/thm-white.png" alt="TryHackMe Logo"><strong class="navbar__title">TryHackMe Documentation</strong></a><a class="navbar__item navbar__link" href="/docs/general/welcome">Docs</a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" to="https://blog.tryhackme.com" href="https://blog.tryhackme.com">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/tryhackmeltd/docs.tryhackme.com">GitHub</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/thm-white.png" alt="TryHackMe Logo"><strong class="navbar__title">TryHackMe Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/general/welcome">Docs</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="navbar__link--active" to="https://blog.tryhackme.com" href="https://blog.tryhackme.com">Blog</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/tryhackmeltd/docs.tryhackme.com">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/img/thm-white.png" alt="TryHackMe Logo"><strong>TryHackMe Documentation</strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">General</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/general/welcome">Welcome to TryHackMe</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/general/what-is-tryhackme">What is TryHackMe?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/general/why-should-i-join">Why should I join?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/general/tryhackme-levels">TryHackMe Levels</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/general/researching-and-asking-for-help">The &quot;Researching Attitude&quot; and Asking for Help</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">OpenVPN</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/openvpn/why-openvpn">Why do I Need OpenVPN?</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Connecting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/openvpn/connecting/openvpn-connecting">Connecting With OpenVPN</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/openvpn/troubleshooting/openvpn-troubleshooting">OpenVPN Troubleshooting</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Completing Rooms</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/rooms/what-are-rooms">What are Rooms?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/rooms/how-points-work">How Points Work</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/rooms/accessing-deployed-vms">Accessing Deployed VMs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/rooms/room-difficulty-levels">Room Difficulty Levels</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Room Creation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/room-creation/room-creation-getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/room-creation/the-review-process">The Review Process</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Sales and Billing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/sales-billing/sales-billing-student">Student Discount</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/sales-billing/sales-billing-corporate">Corporate</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Teaching</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/teaching/teaching-getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/teaching/why-choose-us">Why Choose Us</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/teaching/reviews-and-feedback">Reviews And Feedback</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/teaching/contact-us">Contact Us</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Discord</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/discord/discord-getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/discord/verify">Verifying your Level</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">King Of The Hill (KOTH)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/koth/king-of-the-hill">King of the Hill</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/api-docs/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api-docs/api-endpoints">API Endpoints</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">OpenVPN Troubleshooting</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="using-the-thm-troubleshooting-script"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-the-thm-troubleshooting-script" title="Direct link to heading">#</a>Using the THM troubleshooting Script:</h2><p><a href="https://tryhackme.com/p/MuirlandOracle"><strong>MuirlandOracle</strong></a> has created a handy troubleshooting script for Linux that automates a large portion of the troubleshooting process for you. You can download it from <a href="https://github.com/tryhackme/openvpn-troubleshooting"><strong>TryHackMe&#x27;s Github</strong></a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="other-considerations"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#other-considerations" title="Direct link to heading">#</a>Other Considerations:</h2><p>As it stands, TryHackMe only supports OpenVPN via UDP. If you are in a country such as Egypt or China where a VPN over UDP is blocked, until TCP is supported, the alternative is to <a href="hhtps://tryhackme.com/my-machine"><strong>deploy your own Kali instance</strong></a> in the cloud. This instance is hosted on TryHackMe and is publicly accessible without a VPN connection. </p><p>If you see messages relating to TLS errors, go to <a href="https://openvpn.net/faq/tls-error-tls-key-negotiation-failed-to-occur-within-60-seconds-check-your-network-connectivity/"><strong>this OpenVPN article</strong></a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="not-receiving-reverse-shells-or-metasploit-not-creating-sessions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#not-receiving-reverse-shells-or-metasploit-not-creating-sessions" title="Direct link to heading">#</a>Not receiving reverse shells or Metasploit not creating Sessions?</h2><p>This is most commonly due to incorrect exploit settings within Metasploit / exploit code. This should be the first thing to check. Ensure that you are using your THM IP address as your <code>lhost</code> option and the IP address of the instance assigned to you as your <code>rhosts</code>.</p><p>Another possibility is people connecting via the OpenVPN on their host machine and not through their virtual machine. For example, running Kali Linux in Virtualbox on your Windows 10 PC. Ensure you are connecting via one session on Kali, rather than your Windows 10 PC.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="intermittent-connection-random-drop-outs"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#intermittent-connection-random-drop-outs" title="Direct link to heading">#</a>Intermittent connection (random drop-outs):</h2><p>This issue usually stems from client-side issues that can be checked using the <a href="https://github.com/tryhackme/openvpn-troubleshooting"><strong>troubleshooting script</strong></a>. However, look for external factors to OpenVPN as to why you are experiencing issues if this script does not help.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="checking-for-external-issues"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#checking-for-external-issues" title="Direct link to heading">#</a>Checking for external Issues:</h3><ol><li>In this setup, OpenVPN does not route all of your internet traffic through TryHackMe - are you able to connect to external websites like google? If not, this is an issue with your internet service</li><li>Are you using WiFi? Perhaps there could be interference or distancing issues resulting in a weak signal that would disrupt connectivity.</li><li>Are you in a country that blocks OpenVPN traffic? (China, Egypt)</li></ol><p>Finally, if you are confident that your internet connection is stable, try switching VPN servers via the <a href="https://tryhackme.com/access"><strong>access page</strong></a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/tryhackmeltd/docs.tryhackme.com/edit/master/docs/openvpn/troubleshooting/troubleshooting.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-07-11T14:06:20.000Z" class="docLastUpdatedAt_1sqk">7/11/2020</time> by <strong>Ben (CMNatic)</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/openvpn/connecting/openvpn-connecting"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Connecting With OpenVPN</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/rooms/what-are-rooms"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">What are Rooms »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#using-the-thm-troubleshooting-script" class="contents__link">Using the THM troubleshooting Script:</a></li><li><a href="#other-considerations" class="contents__link">Other Considerations:</a></li><li><a href="#not-receiving-reverse-shells-or-metasploit-not-creating-sessions" class="contents__link">Not receiving reverse shells or Metasploit not creating Sessions?</a></li><li><a href="#intermittent-connection-random-drop-outs" class="contents__link">Intermittent connection (random drop-outs):</a><ul><li><a href="#checking-for-external-issues" class="contents__link">Checking for external Issues:</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://tryhackme.com" href="https://tryhackme.com">TryHackMe Website</a></li><li class="footer__item"><a class="footer__link-item" to="https://blog.tryhackme.com" href="https://blog.tryhackme.com">Blog</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discord.gg/YTZwNdF">Discord</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://tryhackme.com/forum">Forums</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/tryhackmeltd/docs.tryhackme.com">GitHub</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/RealTryHackMe">Twitter</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://instagram.com/RealTryHackMe">Instagram</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 TryHackMe, Ltd. All rights reserved.</div></div></div></footer>
</div>

<script src="/styles.ff960ac8.js"></script>

<script src="/runtime~main.e8d1b918.js"></script>

<script src="/main.537dcb66.js"></script>

<script src="/1.0fffe3ba.js"></script>

<script src="/2.cbb3c2d0.js"></script>

<script src="/36.da44f8d1.js"></script>

<script src="/20ac7829.2897ad6a.js"></script>

<script src="/17896441.297f9b71.js"></script>

<script src="/a54bd0b8.ba28b2c6.js"></script>


</body>
</html>